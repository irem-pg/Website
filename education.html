<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>İrem Aday</title>
    <link rel="stylesheet" href="style.css">
    <!-- Include OpenLayers CSS -->
    <link rel="stylesheet" href="https://openlayers.org/en/latest/css/ol.css" type="text/css">
    <!-- Include OpenLayers JS -->
    <script src="https://openlayers.org/en/latest/build/ol.js" type="text/javascript"></script>
    <style>
        /* Set the height of the map */
        #map {
            width: 100%;
            height: 400px;
            /* Adjust height as needed */
        }

        /* Tooltip style */
        .ol-tooltip {
            background-color: rgba(240, 248, 255, 0.9); /* Serenity color (AliceBlue with opacity) */
            color: #1c6ea4; /* Serenity blue text */
            padding: 5px;
            border-radius: 4px;
            white-space: nowrap;
            font-size: 14px;
            pointer-events: none; /* Prevent interaction with the tooltip */
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-box">
                <li><a href="index.html">Home</a></li>
            </div>
            <div class="sidebar-box">
                <li><a href="education.html">Education</a></li>
            </div>
            <div class="sidebar-box">
                <li><a href="experience.html">Experience</a></li>
            </div>
            <div class="sidebar-box">
                <li><a href="technologies.html">Technologies</a></li>
            </div>
        </div>
        <div class="main-content">
            <!-- Map Container -->
            <div id="map"></div>
        </div>
    </div>

    <!-- OpenLayers JS -->
    <script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@latest/en/v6.15.1/build/ol.js"></script>

    <script>
        // Create the base map with custom control options
        var map = new ol.Map({
            target: 'map',
            controls: ol.control.defaults({
                attribution: false // Disable the default attribution control completely
            }),
            layers: [
                new ol.layer.Tile({
                    source: new ol.source.OSM() // OpenStreetMap layer
                })
            ],
            view: new ol.View({
                center: ol.proj.fromLonLat([32.70, 39.92]), // Center on [longitude, latitude]
                zoom: 11 // Initial zoom level
            })
        });

        // Add a custom attribution control at the bottom right
        map.addControl(new ol.control.Attribution({
            collapsible: false, // Always visible
            className: 'custom-attribution', // Custom class for positioning
        }));

        // Example known coordinates [longitude, latitude]
        var places = [
            { name: 'Türkan Azmi İlkokulu', coord: [32.69, 39.96] },
            { name: 'Ahmet Hamdi Tanpınar İlköğretim Okulu', coord: [32.70, 39.95] },
            { name: 'Selçuklu Anadolu Lisesi', coord: [32.70, 39.97] },
            { name: 'Hacettepe Üniversitesi Geomatik Mühendisliği', coord: [32.73, 39.86] }
        ];

        // Create an array to hold the marker features
        var markers = [];

        places.forEach(function(place) {
            var marker = new ol.Feature({
                geometry: new ol.geom.Point(ol.proj.fromLonLat(place.coord)),
                name: place.name  // Store the name in the feature
            });

            // Style for the marker using a custom image
            marker.setStyle(new ol.style.Style({
                image: new ol.style.Icon({
                    anchor: [0.5, 1], // Anchor the icon at the bottom center
                    src: 'marker.png', // Path to your marker image
                    scale: 0.1 // Adjust the scale of the image if needed
                })
            }));

            markers.push(marker);
        });

        // Create a vector source and layer to hold the markers
        var vectorSource = new ol.source.Vector({
            features: markers
        });

        var vectorLayer = new ol.layer.Vector({
            source: vectorSource
        });

        // Add the marker layer to the map
        map.addLayer(vectorLayer);

        // Tooltip for hovering over markers
        var tooltip = document.createElement('div');
        tooltip.className = 'ol-tooltip';
        var overlay = new ol.Overlay({
            element: tooltip,
            offset: [0, -15], // Position the tooltip right above the cursor
            positioning: 'bottom-center'
        });
        map.addOverlay(overlay);

        // Event listener to display tooltip on hover
        map.on('pointermove', function(evt) {
            var feature = map.forEachFeatureAtPixel(evt.pixel, function(feature) {
                return feature;
            });

            if (feature) {
                var coordinates = feature.getGeometry().getCoordinates();
                overlay.setPosition(coordinates);
                tooltip.innerHTML = feature.get('name'); // Show the name from the feature
                tooltip.style.display = 'block';
            } else {
                tooltip.style.display = 'none'; // Hide the tooltip if not hovering over a marker
            }
        });
    </script>

</body>

</html>
